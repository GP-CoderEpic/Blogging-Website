<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('./partials/head') %>
    <title>blog</title>
</head>
<body style="color: white;">
    <%- include('./partials/nav') %>
    
    <div class="container mt-4">
        <h1 style="width: 340px; padding: 5px; margin-bottom: 15px; color: white; font-weight: bolder; border-radius: 20px; border: 3px solid #00999955; box-shadow: 4px 4px 9px rgba(0, 0, 0, 1.8);"><%= blog.title %></h1>
        <img src="<%= blog.coverImageURL %>" width="600px" style="border-radius: 20px; border-radius: 20px; border: 3px solid #00999955; box-shadow: 4px 4px 9px rgba(0, 0, 0, 1.8);  height: auto;">
        <h1 style="width: 260px; padding: 5px; padding-bottom: 15px; margin-top: 15px; color: white; padding-top: 20px; border-radius: 20px; border: 3px solid #00999955; box-shadow: 4px 4px 9px rgba(0, 0, 0, 1.8);">Body of Blog:</h1>
        <p class="mt-4" style="color: white; width: 1100px; border-radius: 20px; border: 3px solid #00999955; box-shadow: 4px 4px 9px rgba(0, 0, 0, 1.8); padding: 5px;"><%= blog.body %></p>
        <p style="color: white; font-weight: bold; margin-left: 1040px; padding-top: 15px; border-radius: 20px; border: 1px solid #00999955; box-shadow: 4px 4px 9px rgba(0, 0, 0, 1.8); width: 300px; text-align: center; padding-bottom: 15px;">Date of adding blog: <%= blog.date %></p>
    </div>

    <div class="container mt-4">
        <img src="<%= blog.createdBy.profileImageUrl %>" width="50px" style="border-radius: 25px;"> <%= blog.createdBy.fullName %>
    </div>

    <div class="container mt-3">
        <h1>Comments (<%= comments.length %>)</h1>
        <% if (locals.user) { %>
        <form action="/blog/comment/<%= blog._id %>" method="post">
          <div class="mb-3">
            <input
              type="text"
              name="content"
              class="form-control"
              placeholder="Enter your comment"
            />
            <button class="btn btn-sm btn-primary" type="submit" style="margin-top: 10px; background-color: #00999955; border-radius: 10px; border: 1.5px solid #0b363c; box-shadow: 3px 3px 9px rgba(0, 0, 0, 1.5);">Add</button>
          </div>
        </form>
  
        <% } %>
        <div class="mt-3">
          <% comments.forEach(comment => { %>
          <div>
            <img src="<%= comment.createdBy.profileImageUrl %>" width="50px" style="border-radius: 25px;" />
            <%= comment.createdBy.fullName %>
            <pre style="font-size: x-large; padding-left: 30px;"><%= comment.content %></pre>
          </div>
          <% }) %>
        </div>
      </div>

    <%- include('./partials/script') %>
</body>
</html>
